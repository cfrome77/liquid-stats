<div class="stats-container">
  <h2>Your Beer Statistics</h2>

  <div class="filters">
    <label for="date-range">Date Range:</label>
    <select [formControl]="dateRange" (change)="onDateChange()">
      <option value="week">Last Week</option>
      <option value="month">Last Month</option>
      <option value="year">Last Year</option>
      <option value="all">All Time</option>
      <option value="custom">Custom</option>
    </select>

    <div *ngIf="dateRange.value === 'custom'" class="custom-date-range">
      <input type="date" [formControl]="customStartDate" (change)="onDateChange()" placeholder="Start Date" />
      <input type="date" [formControl]="customEndDate" (change)="onDateChange()" placeholder="End Date" />
    </div>
  </div>

  <div class="stats-cards" *ngIf="processedStats">
    <div class="card">Total Unique Beers: {{ processedStats.totalUniqueBeers }}</div>
    <div class="card">Total Check-ins: {{ processedStats.totalCheckins }}</div>
    <div class="card">New Beers Count: {{ processedStats.newBeersCount }}</div>
    <div class="card">New Beer Ratio: {{ (processedStats.newBeerRatio * 100).toFixed(0) }}%</div>
    <div class="card">Average Rating: {{ processedStats.averageRating.toFixed(2) }}</div>
    <div class="card short-card">Total Unique Breweries: {{ processedStats.totalUniqueBreweries }}</div>

    <div class="card beer-styles-breakdown">
      Beer Styles Breakdown
      <ul>
        <ng-container *ngFor="let style of beerStylesList()">
          <li *ngIf="processedStats.beerStylesCount[style] > 0" class="clickable"
            [title]="style + ': ' + processedStats.beerStylesCount[style]" (click)="openBeerStyleDialog(style)">
            <span class="style-name">{{ style }}</span>
            <span class="style-count">{{ processedStats.beerStylesCount[style] }}</span>
          </li>
        </ng-container>
      </ul>
    </div>
  </div>

  <div class="charts">
    <p>Charts and visualizations will go here...</p>
  </div>
</div>